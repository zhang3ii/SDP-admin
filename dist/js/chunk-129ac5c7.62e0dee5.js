(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-129ac5c7"],{"00ba":function(e,t,a){var n=a("3eba"),i=a("e46b"),r=a("e0d3"),l=r.defaultEmphasis,o=n.extendSeriesModel({type:"series.funnel",init:function(e){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return i(this,["value"])},_defaultLabelLine:function(e){l(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),a=o.superCall(this,"getDataParams",e),n=t.mapDimension("value"),i=t.getSum(n);return a.percent=i?+(t.get(n,e)/i*100).toFixed(2):0,a.$vars.push("percent"),a},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),s=o;e.exports=s},"24b9":function(e,t,a){var n=a("f934"),i=a("3842"),r=i.parsePercent,l=i.linearMap;function o(e,t){return n.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function s(e,t){for(var a=e.mapDimension("value"),n=e.mapArray(a,function(e){return e}),i=[],r="ascending"===t,l=0,o=e.count();l<o;l++)i[l]=l;return"function"===typeof t?i.sort(t):"none"!==t&&i.sort(function(e,t){return r?n[e]-n[t]:n[t]-n[e]}),i}function d(e){e.each(function(t){var a,n,i,r,l=e.getItemModel(t),o=l.getModel("label"),s=o.get("position"),d=l.getModel("labelLine"),u=e.getItemLayout(t),c=u.points,g="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(g)"insideLeft"===s?(n=(c[0][0]+c[3][0])/2+5,i=(c[0][1]+c[3][1])/2,a="left"):"insideRight"===s?(n=(c[1][0]+c[2][0])/2-5,i=(c[1][1]+c[2][1])/2,a="right"):(n=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,i=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,a="center"),r=[[n,i],[n,i]];else{var p,h,m,f=d.get("length");"left"===s?(p=(c[3][0]+c[0][0])/2,h=(c[3][1]+c[0][1])/2,m=p-f,n=m-5,a="right"):"right"===s?(p=(c[1][0]+c[2][0])/2,h=(c[1][1]+c[2][1])/2,m=p+f,n=m+5,a="left"):"rightTop"===s?(p=c[1][0],h=c[1][1],m=p+f,n=m+5,a="top"):"rightBottom"===s?(p=c[2][0],h=c[2][1],m=p+f,n=m+5,a="bottom"):"leftTop"===s?(p=c[0][0],h=c[1][1],m=p-f,n=m-5,a="right"):"leftBottom"===s?(p=c[3][0],h=c[2][1],m=p-f,n=m-5,a="right"):(p=(c[1][0]+c[2][0])/2,h=(c[1][1]+c[2][1])/2,m=p+f,n=m+5,a="left");var v=h;r=[[p,h],[m,v]],i=v}u.label={linePoints:r,x:n,y:i,verticalAlign:"middle",textAlign:a,inside:g}})}function u(e,t,a){e.eachSeriesByType("funnel",function(e){var a=e.getData(),n=a.mapDimension("value"),i=e.get("sort"),u=o(e,t),c=s(a,i),g=[r(e.get("minSize"),u.width),r(e.get("maxSize"),u.width)],p=a.getDataExtent(n),h=e.get("min"),m=e.get("max");null==h&&(h=Math.min(p[0],0)),null==m&&(m=p[1]);var f=e.get("funnelAlign"),v=e.get("gap"),y=(u.height-v*(a.count()-1))/a.count(),b=u.y,x=function(e,t){var i,r=a.get(n,e)||0,o=l(r,[h,m],g,!0);switch(f){case"left":i=u.x;break;case"center":i=u.x+(u.width-o)/2;break;case"right":i=u.x+u.width-o;break}return[[i,t],[i+o,t]]};"ascending"===i&&(y=-y,v=-v,b+=u.height,c=c.reverse());for(var S=0;S<c.length;S++){var w=c[S],I=c[S+1],L=a.getItemModel(w),D=L.get("itemStyle.height");null==D?D=y:(D=r(D,u.height),"ascending"===i&&(D=-D));var M=x(w,b),_=x(I,b+D);b+=D+v,a.setItemLayout(w,{points:M.concat(_.slice().reverse())})}d(a)})}e.exports=u},"4d62":function(e,t,a){var n=a("2306"),i=a("6d8b"),r=a("e887");function l(e,t){n.Group.call(this);var a=new n.Polygon,i=new n.Polyline,r=new n.Text;this.add(a),this.add(i),this.add(r),this.highDownOnUpdate=function(e,t){"emphasis"===t?(i.ignore=i.hoverIgnore,r.ignore=r.hoverIgnore):(i.ignore=i.normalIgnore,r.ignore=r.normalIgnore)},this.updateData(e,t,!0)}var o=l.prototype,s=["itemStyle","opacity"];o.updateData=function(e,t,a){var r=this.childAt(0),l=e.hostModel,o=e.getItemModel(t),d=e.getItemLayout(t),u=e.getItemModel(t).get(s);u=null==u?1:u,r.useStyle({}),a?(r.setShape({points:d.points}),r.setStyle({opacity:0}),n.initProps(r,{style:{opacity:u}},l,t)):n.updateProps(r,{style:{opacity:u},shape:{points:d.points}},l,t);var c=o.getModel("itemStyle"),g=e.getItemVisual(t,"color");r.setStyle(i.defaults({lineJoin:"round",fill:g},c.getItemStyle(["opacity"]))),r.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),n.setHoverStyle(this)},o._updateLabel=function(e,t){var a=this.childAt(1),i=this.childAt(2),r=e.hostModel,l=e.getItemModel(t),o=e.getItemLayout(t),s=o.label,d=e.getItemVisual(t,"color");n.updateProps(a,{shape:{points:s.linePoints||s.linePoints}},r,t),n.updateProps(i,{style:{x:s.x,y:s.y}},r,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=l.getModel("label"),c=l.getModel("emphasis.label"),g=l.getModel("labelLine"),p=l.getModel("emphasis.labelLine");d=e.getItemVisual(t,"color");n.setLabelStyle(i.style,i.hoverStyle={},u,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:d,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),a.ignore=a.normalIgnore=!g.get("show"),a.hoverIgnore=!p.get("show"),a.setStyle({stroke:d}),a.setStyle(g.getModel("lineStyle").getLineStyle()),a.hoverStyle=p.getModel("lineStyle").getLineStyle()},i.inherits(l,n.Group);var d=r.extend({type:"funnel",render:function(e,t,a){var n=e.getData(),i=this._data,r=this.group;n.diff(i).add(function(e){var t=new l(n,e);n.setItemGraphicEl(e,t),r.add(t)}).update(function(e,t){var a=i.getItemGraphicEl(t);a.updateData(n,e),r.add(a),n.setItemGraphicEl(e,a)}).remove(function(e){var t=i.getItemGraphicEl(e);r.remove(t)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),u=d;e.exports=u},9316:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("shop-header"),a("div",[a("a-row",{attrs:{gutter:8}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"90日内意向用户数",total:8846}},[a("div",[a("mini-area")],1)])],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"90日内访问用户数",total:8846}},[a("div",[a("mini-area")],1)])],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"90日内客资数",total:8846}},[a("div",[a("mini-area")],1)])],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:e.loading,title:"历史订单用户数",total:8846}},[a("div",[a("mini-area")],1)])],1)],1)],1),a("div",[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{xl:14,lg:24,md:24,sm:24,xs:24}},[a("a-card",[a("a-tabs",[a("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"90天内访问用户"}},[a("div",{staticStyle:{"min-height":"400px",margin:"20px"}},[a("a-table",{attrs:{columns:e.columns,dataSource:e.data,loading:e.loading}}),a("nav",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",[a("a-pagination",{attrs:{pageSizeOptions:e.pageSizeOptions,total:e.total,showSizeChanger:"",pageSize:e.pageSize,showQuickJumper:""},scopedSlots:e._u([{key:"buildOptionText",fn:function(t){return["50"!==t.value?a("span",[e._v(e._s(t.value)+"条/页")]):e._e(),"50"===t.value?a("span",[e._v("全部")]):e._e()]}}]),model:{value:e.current,callback:function(t){e.current=t},expression:"current"}})],1)])],1)]),a("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"90天内意向用户"}},[a("div",{staticStyle:{"min-height":"400px",margin:"20px"}},[a("a-table",{attrs:{columns:e.columns,dataSource:e.data,loading:e.loading}}),a("nav",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",[a("a-pagination",{attrs:{pageSizeOptions:e.pageSizeOptions,total:e.total,showSizeChanger:"",pageSize:e.pageSize,showQuickJumper:""},scopedSlots:e._u([{key:"buildOptionText",fn:function(t){return["50"!==t.value?a("span",[e._v(e._s(t.value)+"条/页")]):e._e(),"50"===t.value?a("span",[e._v("全部")]):e._e()]}}]),model:{value:e.current,callback:function(t){e.current=t},expression:"current"}})],1)])],1)])],1)],1)],1),a("a-col",{attrs:{xl:10,lg:24,md:24,sm:24,xs:24}},[a("a-card",{attrs:{title:"用户阶段漏斗"}},[a("v-funnel",{attrs:{data:e.chartData}})],1)],1)],1)],1)],1)},i=[],r=a("7e21"),l=a("2af9"),o=a("947c"),s=a.n(o),d=[{title:"用户ID",dataIndex:"UserID"},{title:"姓名",dataIndex:"UserName"},{title:"访问次数",dataIndex:"VisitTimes"},{title:"访问时长",dataIndex:"TimeSpent"},{title:"意向度",dataIndex:"IntentionDegree"},{title:"访问频次",dataIndex:"VisitFrequency"},{title:"最后一次访问时间",dataIndex:"LastVisitTime"}],u={columns:["状态","数值"],rows:[{"状态":"意向用户数","数值":900},{"状态":"访问用户数","数值":600},{"状态":"客资数","数值":100}]},c={name:"UserData",components:{ChartCard:l["d"],shopHeader:r["a"],MiniArea:l["h"],vFunnel:s.a},data:function(){return{data:[],loading:!1,columns:d,pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,total:50,chartData:u}}},g=c,p=a("2877"),h=Object(p["a"])(g,n,i,!1,null,"a9d265d4",null);t["default"]=h.exports},"947c":function(e,t,a){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=a("89d6"),r=a("6f0c");a("a4b1");var l=n(a("6521"));function o(e,t){return{trigger:"item",formatter:function(a){var n=[];return n.push(i.itemPoint(a.color)),n.push(a.name+": "+r.getFormated(a.data.realValue,e,t)),n.join("")}}}function s(e){var t=e.data,a=e.legendName;return{data:t,formatter:function(e){return null!=a[e]?a[e]:e}}}function d(e){var t=e.dimension,a=e.metrics,n=e.rows,i=e.sequence,r=e.ascending,l=e.label,o=e.labelLine,s=e.itemStyle,d=e.filterZero,u=e.useDefaultOrder,c={type:"funnel"},g=n.sort(function(e,a){return i.indexOf(e[t])-i.indexOf(a[t])});d&&(g=g.filter(function(e){return e[a]}));var p=!1;g.some(function(e,t){if(t&&e[a]>g[t-1][a])return p=!0,!0});var h=100/g.length;return c.data=p&&!u?g.slice().reverse().map(function(e,n){return{name:e[t],value:(n+1)*h,realValue:e[a]}}):g.map(function(e){return{name:e[t],value:e[a],realValue:e[a]}}),r&&(c.sort="ascending"),l&&(c.label=l),o&&(c.labelLine=o),s&&(c.itemStyle=s),c}var u=function(e,t,a,n){var i=e.slice(),r=t.slice(),l=a.dataType,u=void 0===l?"normal":l,c=a.dimension,g=void 0===c?i[0]:c,p=a.sequence,h=void 0===p?r.map(function(e){return e[g]}):p,m=a.digit,f=void 0===m?2:m,v=a.ascending,y=a.label,b=a.labelLine,x=a.legendName,S=void 0===x?{}:x,w=a.itemStyle,I=a.filterZero,L=a.useDefaultOrder,D=n.tooltipVisible,M=n.legendVisible,_=void 0;if(a.metrics)_=a.metrics;else{var z=i.slice();z.splice(i.indexOf(g),1),_=z[0]}var O=D&&o(u,f),P=M&&s({data:h,legendName:S}),k=d({dimension:g,metrics:_,rows:r,sequence:h,ascending:v,label:y,labelLine:b,itemStyle:w,filterZero:I,useDefaultOrder:L}),A={tooltip:O,legend:P,series:k};return A},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g=c({},l,{name:"VeFunnel",data:function(){return this.chartHandler=u,{}}});e.exports=g},a4b1:function(e,t,a){var n=a("3eba");a("00ba"),a("4d62");var i=a("98e7"),r=a("24b9"),l=a("d3f47");n.registerVisual(i("funnel")),n.registerLayout(r),n.registerProcessor(l("funnel"))}}]);