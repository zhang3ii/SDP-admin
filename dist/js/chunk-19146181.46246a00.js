(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19146181"],{"0e0f":function(e,t,a){var n=a("5f14"),i=a("6d8b");function r(e,t){e.eachSeriesByType("sankey",function(e){var t=e.getGraph(),a=t.nodes;if(a.length){var r=1/0,o=-1/0;i.each(a,function(e){var t=e.getLayout().value;t<r&&(r=t),t>o&&(o=t)}),i.each(a,function(t){var a=new n({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:e.get("color")}),i=a.mapValueToVisual(t.getLayout().value),s=t.getModel().get("itemStyle.color");null!=s?t.setVisual("color",s):t.setVisual("color",i)})}})}e.exports=r},"17b8":function(e,t,a){var n=a("3014"),i=n.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},defaultOption:{clip:!0}});e.exports=i},"1ab3":function(e,t,a){var n=a("6d8b"),i=a("2306"),r=a("e887");function o(e,t,a,n){var i=t.getData(),r=this.dataIndex,o=i.getName(r),l=t.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:e,name:o,seriesId:t.id}),i.each(function(e){s(i.getItemGraphicEl(e),i.getItemLayout(e),t.isSelected(i.getName(e)),l,a)})}function s(e,t,a,n,i){var r=(t.startAngle+t.endAngle)/2,o=Math.cos(r),s=Math.sin(r),l=a?n:0,u=[o*l,s*l];i?e.animate().when(200,{position:u}).start("bounceOut"):e.attr("position",u)}function l(e,t){i.Group.call(this);var a=new i.Sector({z2:2}),n=new i.Polyline,r=new i.Text;this.add(a),this.add(n),this.add(r),this.updateData(e,t,!0)}var u=l.prototype;u.updateData=function(e,t,a){var r=this.childAt(0),o=this.childAt(1),l=this.childAt(2),u=e.hostModel,d=e.getItemModel(t),c=e.getItemLayout(t),h=n.extend({},c);h.label=null;var g=u.getShallow("animationTypeUpdate");if(a){r.setShape(h);var p=u.getShallow("animationType");"scale"===p?(r.shape.r=c.r0,i.initProps(r,{shape:{r:c.r}},u,t)):(r.shape.endAngle=c.startAngle,i.updateProps(r,{shape:{endAngle:c.endAngle}},u,t))}else"expansion"===g?r.setShape(h):i.updateProps(r,{shape:h},u,t);var f=e.getItemVisual(t,"color");r.useStyle(n.defaults({lineJoin:"bevel",fill:f},d.getModel("itemStyle").getItemStyle())),r.hoverStyle=d.getModel("emphasis.itemStyle").getItemStyle();var v=d.getShallow("cursor");v&&r.attr("cursor",v),s(this,e.getItemLayout(t),u.isSelected(null,t),u.get("selectedOffset"),u.get("animation"));var y=!a&&"transition"===g;this._updateLabel(e,t,y),this.highDownOnUpdate=d.get("hoverAnimation")&&u.isAnimationEnabled()?function(e,t){"emphasis"===t?(o.ignore=o.hoverIgnore,l.ignore=l.hoverIgnore,r.stopAnimation(!0),r.animateTo({shape:{r:c.r+u.get("hoverOffset")}},300,"elasticOut")):(o.ignore=o.normalIgnore,l.ignore=l.normalIgnore,r.stopAnimation(!0),r.animateTo({shape:{r:c.r}},300,"elasticOut"))}:null,i.setHoverStyle(this)},u._updateLabel=function(e,t,a){var n=this.childAt(1),r=this.childAt(2),o=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t),u=l.label,d=e.getItemVisual(t,"color");if(!u||isNaN(u.x)||isNaN(u.y))r.ignore=r.normalIgnore=r.hoverIgnore=n.ignore=n.normalIgnore=n.hoverIgnore=!0;else{var c={points:u.linePoints||[[u.x,u.y],[u.x,u.y],[u.x,u.y]]},h={x:u.x,y:u.y};a?(i.updateProps(n,{shape:c},o,t),i.updateProps(r,{style:h},o,t)):(n.attr({shape:c}),r.attr({style:h})),r.attr({rotation:u.rotation,origin:[u.x,u.y],z2:10});var g=s.getModel("label"),p=s.getModel("emphasis.label"),f=s.getModel("labelLine"),v=s.getModel("emphasis.labelLine");d=e.getItemVisual(t,"color");i.setLabelStyle(r.style,r.hoverStyle={},g,p,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:d,useInsideStyle:!!u.inside},{textAlign:u.textAlign,textVerticalAlign:u.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!g.get("show"),r.hoverIgnore=!p.get("show"),n.ignore=n.normalIgnore=!f.get("show"),n.hoverIgnore=!v.get("show"),n.setStyle({stroke:d,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=v.getModel("lineStyle").getLineStyle();var y=f.get("smooth");y&&!0===y&&(y=.4),n.setShape({smooth:y})}},n.inherits(l,i.Group);var d=r.extend({type:"pie",init:function(){var e=new i.Group;this._sectorGroup=e},render:function(e,t,a,i){if(!i||i.from!==this.uid){var r=e.getData(),s=this._data,u=this.group,d=t.get("animation"),c=!s,h=e.get("animationType"),g=e.get("animationTypeUpdate"),p=n.curry(o,this.uid,e,d,a),f=e.get("selectedMode");if(r.diff(s).add(function(e){var t=new l(r,e);c&&"scale"!==h&&t.eachChild(function(e){e.stopAnimation(!0)}),f&&t.on("click",p),r.setItemGraphicEl(e,t),u.add(t)}).update(function(e,t){var a=s.getItemGraphicEl(t);c||"transition"===g||a.eachChild(function(e){e.stopAnimation(!0)}),a.updateData(r,e),a.off("click"),f&&a.on("click",p),u.add(a),r.setItemGraphicEl(e,a)}).remove(function(e){var t=s.getItemGraphicEl(e);u.remove(t)}).execute(),d&&r.count()>0&&(c?"scale"!==h:"transition"!==g)){for(var v=r.getItemLayout(0),y=1;isNaN(v.startAngle)&&y<r.count();++y)v=r.getItemLayout(y);var m=Math.max(a.getWidth(),a.getHeight())/2,x=n.bind(u.removeClipPath,u);u.setClipPath(this._createClipPath(v.cx,v.cy,m,v.startAngle,v.clockwise,x,e,c))}else u.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(e,t,a,n,r,o,s,l){var u=new i.Sector({shape:{cx:e,cy:t,r0:0,r:a,startAngle:n,endAngle:n,clockwise:r}}),d=l?i.initProps:i.updateProps;return d(u,{shape:{endAngle:n+(r?1:-1)*Math.PI*2}},s,o),u},containPoint:function(e,t){var a=t.getData(),n=a.getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}}),c=d;e.exports=c},"1b6e":function(e,t,a){},"1bdf":function(e,t,a){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=a("6f0c"),r=a("89d6");a("311a");var o=n(a("6521")),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function l(e){var t=e.itemDataType,a=e.linksDataType,n=e.digit;return{trigger:"item",formatter:function(e){var o=[],s=e.name,l=e.data,u=e.value,d=e.color;return o.push(r.itemPoint(d)),o.push(s+" : "),l&&l.source?o.push(i.getFormated(u,a,n)+"<br />"):o.push(i.getFormated(u,t,n)+"<br />"),o.join("")}}}function u(e){var t=e.rows,a=e.dimension,n=e.metrics,i=e.links,r=e.valueFull,o=e.useDataValue,l=e.label,u=e.itemStyle,d=e.lineStyle,c={},h=t.map(function(e){return c[e[a]]=e[n],{name:e[a],value:e[n]}}),g=null;g=o?i.map(function(e){return s({},e,{value:c[e.target]})}):r?i:i.map(function(e){return null==e.value?s({},e,{value:c[e.target]}):e});var p={type:"sankey",data:h,links:g};return l&&(p.label=l),u&&(p.itemStyle=u),d&&(p.lineStyle=d),[p]}var d=function(e,t,a,n){var i=a.links,r=a.dimension,o=void 0===r?e[0]:r,s=a.metrics,d=void 0===s?e[1]:s,c=a.dataType,h=void 0===c?["normal","normal"]:c,g=a.digit,p=void 0===g?2:g,f=a.valueFull,v=void 0!==f&&f,y=a.useDataValue,m=void 0!==y&&y,x=a.label,_=a.itemStyle,b=a.lineStyle;if(i){var w=h[0],I=h[1],L=l({itemDataType:w,linksDataType:I,digit:p}),S=u({rows:t,dimension:o,metrics:d,links:i,valueFull:v,useDataValue:m,label:x,itemStyle:_,lineStyle:b});return{tooltip:L,series:S}}console.warn("links is needed in settings!")},c=s({},o,{name:"VeSankey",data:function(){return this.chartHandler=d,{}}});e.exports=c},"237f":function(e,t,a){var n=a("6d8b"),i=a("6179"),r=a("7368"),o=a("31d9"),s=a("b1d4"),l=a("2039"),u=a("3301");function d(e,t,a,d,c){for(var h=new r(d),g=0;g<e.length;g++)h.addNode(n.retrieve(e[g].id,e[g].name,g),g);var p=[],f=[],v=0;for(g=0;g<t.length;g++){var y=t[g],m=y.source,x=y.target;h.addEdge(m,x,v)&&(f.push(y),p.push(n.retrieve(y.id,m+" > "+x)),v++)}var _,b=a.get("coordinateSystem");if("cartesian2d"===b||"polar"===b)_=u(e,a);else{var w=l.get(b),I=w&&"view"!==w.type&&w.dimensions||[];n.indexOf(I,"value")<0&&I.concat(["value"]);var L=s(e,{coordDimensions:I});_=new i(L,a),_.initData(e)}var S=new i(["value"],a);return S.initData(f,p),c&&c(_,S),o({mainData:_,struct:h,structAttr:"graph",datas:{node:_,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}e.exports=d},"292e":function(e,t,a){var n=a("3842"),i=n.parsePercent,r=n.linearMap,o=a("bb70"),s=a("6d8b"),l=2*Math.PI,u=Math.PI/180;function d(e,t,a,n){t.eachSeriesByType(e,function(e){var t=e.getData(),n=t.mapDimension("value"),d=e.get("center"),c=e.get("radius");s.isArray(c)||(c=[0,c]),s.isArray(d)||(d=[d,d]);var h=a.getWidth(),g=a.getHeight(),p=Math.min(h,g),f=i(d[0],h),v=i(d[1],g),y=i(c[0],p/2),m=i(c[1],p/2),x=-e.get("startAngle")*u,_=e.get("minAngle")*u,b=0;t.each(n,function(e){!isNaN(e)&&b++});var w=t.getSum(n),I=Math.PI/(w||b)*2,L=e.get("clockwise"),S=e.get("roseType"),M=e.get("stillShowZeroSum"),A=t.getDataExtent(n);A[0]=0;var D=l,E=0,N=x,T=L?1:-1;if(t.each(n,function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:L,cx:f,cy:v,r0:y,r:S?NaN:m});else{n="area"!==S?0===w&&M?I:e*I:l/b,n<_?(n=_,D-=_):E+=e;var i=N+T*n;t.setItemLayout(a,{angle:n,startAngle:N,endAngle:i,clockwise:L,cx:f,cy:v,r0:y,r:S?r(e,A,[y,m]):m}),N=i}}),D<l&&b)if(D<=.001){var V=l/b;t.each(n,function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=V,n.startAngle=x+T*a*V,n.endAngle=x+T*(a+1)*V}})}else I=D/E,N=x,t.each(n,function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),i=n.angle===_?_:e*I;n.startAngle=N,n.endAngle=N+T*i,N+=T*i}});o(e,m,h,g)})}e.exports=d},"2cd2":function(e,t,a){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=a("89d6"),r=a("6f0c"),o=a("4cbb");a("c037");var s=n(a("6521")),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=100,d=[80,100],c=[20,100],h=200;function g(e){var t=e.innerRows,a=e.dataType,n=e.percentShow,i=e.dimension,o=e.metrics,s=e.radius,u=e.offsetY,d=e.selectedMode,c=e.hoverAnimation,h=e.digit,g=e.roseType,p=e.label,f=e.level,v=e.limitShowNum,y=e.isRing,m=e.labelLine,x=e.itemStyle,_=[],b={},w=[];f?(f.forEach(function(e,t){e.forEach(function(e){r.setArrayValue(b,e,t)})}),t.forEach(function(e){var t=b[e[i]];t&&t.length&&t.forEach(function(t){r.setArrayValue(w,t,e)})})):w.push(t);var I={type:"pie",selectedMode:d,hoverAnimation:c,roseType:g,center:["50%",u]},L=w.length;if(w.forEach(function(e,t){var u=l({data:[]},I),d=s/L;if(t){var c=d+s/(2*L)*(2*t-1),g=c+s/(2*L);u.radius=[c,g]}else u.radius=y?s:d;L>1&&0===t&&(u.label={normal:{position:"inner"}}),p&&(u.label=p),m&&(u.labelLine=m),x&&(u.itemStyle=x),n&&(u.label={normal:{show:!0,position:L>1&&0===t?"inner":"outside",formatter:function(e){var t=[];return t.push(e.name+":"),t.push(r.getFormated(e.value,a,h)),t.push("("+e.percent+"%)"),t.join(" ")}}}),u.data=e.map(function(e){return{name:e[i],value:e[o]}}),_.push(u)}),v&&v<_[0].data.length){var S=_[0].data,M=S.slice(v,S.length),A=0;M.forEach(function(e){A+=e.value}),_[0].data=S.slice(0,v),_[0].data.push({name:"其他",value:A})}return _}function p(e){var t=e.innerRows,a=e.dimension,n=e.legendLimit,i=e.legendName,r=e.level,o=e.limitShowNum,s=[],l=[];if(r)r.forEach(function(e){e.forEach(function(e){l.push(e)})}),s=l;else if(o&&o<t.length){for(var u=0;u<o;u++)s.push(t[u][a]);s.push("其他")}else s=t.map(function(e){return e[a]});return!!s.length&&{data:s,show:s.length<n,formatter:function(e){return null!=i[e]?i[e]:e}}}function f(e){var t=e.dataType,a=e.innerRows,n=e.limitShowNum,o=e.digit,s=e.metrics,l=e.dimension,u=0,d=a.map(function(e){return u+=e[s],{name:e[l],value:e[s]}}).slice(n,a.length);return{formatter:function(e){var a=[];return a.push(i.itemPoint(e.color)),n&&"其他"===e.name?(a.push("其他:"),d.forEach(function(e){var n=e.name,i=e.value,s=r.getFormated(i/u,"percent");a.push("<br>"+n+":"),a.push(r.getFormated(i,t,o)),a.push("("+s+")")})):(a.push(e.name+":"),a.push(r.getFormated(e.value,t,o)),a.push("("+e.percent+"%)")),a.join(" ")}}}var v=function(e,t,a,n,i){var r=o.cloneDeep(t),s=a.dataType,l=void 0===s?"normal":s,v=a.percentShow,y=a.dimension,m=void 0===y?e[0]:y,x=a.metrics,_=void 0===x?e[1]:x,b=a.roseType,w=void 0!==b&&b,I=a.radius,L=void 0===I?i?w?c:d:u:I,S=a.offsetY,M=void 0===S?h:S,A=a.legendLimit,D=void 0===A?30:A,E=a.selectedMode,N=void 0!==E&&E,T=a.hoverAnimation,V=void 0===T||T,k=a.digit,P=void 0===k?2:k,O=a.legendName,R=void 0===O?{}:O,j=a.label,G=void 0!==j&&j,C=a.level,B=void 0!==C&&C,H=a.limitShowNum,z=void 0===H?0:H,F=a.labelLine,W=a.itemStyle,Y=n.tooltipVisible,U=n.legendVisible;z&&r.sort(function(e,t){return t[_]-e[_]});var q={innerRows:r,dataType:l,percentShow:v,dimension:m,metrics:_,radius:L,offsetY:M,selectedMode:N,hoverAnimation:V,digit:P,roseType:w,label:G,level:B,legendName:R,limitShowNum:z,isRing:i,labelLine:F,itemStyle:W},X=g(q),Z={innerRows:r,dimension:m,legendLimit:D,legendName:R,level:B,limitShowNum:z},J=U&&p(Z),$=Y&&f({dataType:l,innerRows:r,limitShowNum:z,digit:P,metrics:_,dimension:m}),K={series:X,legend:J,tooltip:$};return K},y=function(e,t,a,n){return v(e,t,a,n,!0)},m=l({},s,{name:"VeRing",data:function(){return this.chartHandler=y,{}}});e.exports=m},3014:function(e,t,a){var n=a("4f85"),i=a("3301"),r=n.extend({type:"series.__base_bar__",getInitialData:function(e,t){return i(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var a=t.dataToPoint(t.clampData(e)),n=this.getData(),i=n.getLayout("offset"),r=n.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return a[o]+=i+r/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=r},"311a":function(e,t,a){var n=a("3eba");a("d01c"),a("5b69"),a("bdc0");var i=a("81ac"),r=a("0e0f");n.registerLayout(i),n.registerVisual(r)},"31d9":function(e,t,a){var n=a("6d8b"),i=n.each,r="\0__link_datas",o="\0__link_mainData";function s(e){var t=e.mainData,a=e.datas;a||(a={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,g(t,a,e),i(a,function(a){i(t.TRANSFERABLE_METHODS,function(t){a.wrapMethod(t,n.curry(l,e))})}),t.wrapMethod("cloneShallow",n.curry(d,e)),i(t.CHANGABLE_METHODS,function(a){t.wrapMethod(a,n.curry(u,e))}),n.assert(a[t.dataType]===t)}function l(e,t){if(h(this)){var a=n.extend({},this[r]);a[this.dataType]=t,g(t,a,e)}else p(t,this.dataType,this[o],e);return t}function u(e,t){return e.struct&&e.struct.update(this),t}function d(e,t){return i(t[r],function(a,n){a!==t&&p(a.cloneShallow(),n,t,e)}),t}function c(e){var t=this[o];return null==e||null==t?t:t[r][e]}function h(e){return e[o]===e}function g(e,t,a){e[r]={},i(t,function(t,n){p(t,n,e,a)})}function p(e,t,a,n){a[r][t]=e,e[o]=a,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=c}var f=s;e.exports=f},"5b69":function(e,t,a){var n=a("2306"),i=a("3eba"),r=a("6d8b"),o=["itemStyle","opacity"],s=["lineStyle","opacity"];function l(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function u(e,t,a){var n=e.getGraphicEl(),i=l(e,t);null!=a&&(null==i&&(i=1),i*=a),n.downplay&&n.downplay(),n.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",i)})}function d(e,t){var a=l(e,t),n=e.getGraphicEl();n.highlight&&n.highlight(),n.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",a)})}var c=n.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()}}),h=i.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,a){var i=this,r=e.getGraph(),o=this.group,s=e.layoutInfo,l=s.width,u=s.height,d=e.getData(),h=e.getData("edge"),p=e.get("orient");this._model=e,o.removeAll(),o.attr("position",[s.x,s.y]),r.eachEdge(function(t){var a=new c;a.dataIndex=t.dataIndex,a.seriesIndex=e.seriesIndex,a.dataType="edge";var i,r,s,d,g,f,v,y,m=t.getModel("lineStyle"),x=m.get("curveness"),_=t.node1.getLayout(),b=t.node1.getModel(),w=b.get("localX"),I=b.get("localY"),L=t.node2.getLayout(),S=t.node2.getModel(),M=S.get("localX"),A=S.get("localY"),D=t.getLayout();switch(a.shape.extent=Math.max(1,D.dy),a.shape.orient=p,"vertical"===p?(i=(null!=w?w*l:_.x)+D.sy,r=(null!=I?I*u:_.y)+_.dy,s=(null!=M?M*l:L.x)+D.ty,d=null!=A?A*u:L.y,g=i,f=r*(1-x)+d*x,v=s,y=r*x+d*(1-x)):(i=(null!=w?w*l:_.x)+_.dx,r=(null!=I?I*u:_.y)+D.sy,s=null!=M?M*l:L.x,d=(null!=A?A*u:L.y)+D.ty,g=i*(1-x)+s*x,f=r,v=i*x+s*(1-x),y=d),a.setShape({x1:i,y1:r,x2:s,y2:d,cpx1:g,cpy1:f,cpx2:v,cpy2:y}),a.setStyle(m.getItemStyle()),a.style.fill){case"source":a.style.fill=t.node1.getVisual("color");break;case"target":a.style.fill=t.node2.getVisual("color");break}n.setHoverStyle(a,t.getModel("emphasis.lineStyle").getItemStyle()),o.add(a),h.setItemGraphicEl(t.dataIndex,a)}),r.eachNode(function(t){var a=t.getLayout(),i=t.getModel(),r=i.get("localX"),s=i.get("localY"),c=i.getModel("label"),h=i.getModel("emphasis.label"),g=new n.Rect({shape:{x:null!=r?r*l:a.x,y:null!=s?s*u:a.y,width:a.dx,height:a.dy},style:i.getModel("itemStyle").getItemStyle()}),p=t.getModel("emphasis.itemStyle").getItemStyle();n.setLabelStyle(g.style,p,c,h,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),g.setStyle("fill",t.getVisual("color")),n.setHoverStyle(g,p),o.add(g),d.setItemGraphicEl(t.dataIndex,g),g.dataType="node"}),d.eachItemGraphicEl(function(t,n){var r=d.getItemModel(n);r.get("draggable")&&(t.drift=function(t,r){i._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=r,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:d.getRawIndex(n),localX:this.shape.x/l,localY:this.shape.y/u})},t.ondragend=function(){i._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),r.get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.off("mouseout").on("mouseout",function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))}),h.eachItemGraphicEl(function(t,n){var r=h.getItemModel(n);r.get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),t.off("mouseout").on("mouseout",function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))}),!this._data&&e.get("animation")&&o.setClipPath(g(o.getBoundingRect(),e,function(){o.removeClipPath()})),this._data=e.getData()},dispose:function(){},focusNodeAdjacency:function(e,t,a,n){var i=this._model.getData(),l=i.graph,c=n.dataIndex,h=i.getItemModel(c),g=n.edgeDataIndex;if(null!=c||null!=g){var p=l.getNodeByIndex(c),f=l.getEdgeByIndex(g);if(l.eachNode(function(e){u(e,o,.1)}),l.eachEdge(function(e){u(e,s,.1)}),p){d(p,o);var v=h.get("focusNodeAdjacency");"outEdges"===v?r.each(p.outEdges,function(e){e.dataIndex<0||(d(e,s),d(e.node2,o))}):"inEdges"===v?r.each(p.inEdges,function(e){e.dataIndex<0||(d(e,s),d(e.node1,o))}):"allEdges"===v&&r.each(p.edges,function(e){e.dataIndex<0||(d(e,s),d(e.node1,o),d(e.node2,o))})}f&&(d(f,s),d(f.node1,o),d(f.node2,o))}},unfocusNodeAdjacency:function(e,t,a,n){var i=this._model.getGraph();i.eachNode(function(e){u(e,o)}),i.eachEdge(function(e){u(e,s)})}});function g(e,t,a){var i=new n.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return n.initProps(i,{shape:{width:e.width+20,height:e.height+20}},t,a),i}e.exports=h},"5f14":function(e,t,a){var n=a("6d8b"),i=a("41ef"),r=a("3842"),o=r.linearMap,s=n.each,l=n.isObject,u=-1,d=function(e){var t=e.mappingMethod,a=e.type,i=this.option=n.clone(e);this.type=a,this.mappingMethod=t,this._normalizeData=I[t];var r=c[a];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(p(i),h(i)):"category"===t?i.categories?g(i):p(i,!0):(n.assert("linear"!==t||i.dataExtent),p(i))};d.prototype={constructor:d,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return n.bind(this._normalizeData,this)}};var c=d.visualHandlers={color:{applyVisual:y("color"),getColorMapper:function(){var e=this.option;return n.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),m.call(this,e)}:function(t,a,n){var r=!!n;return!a&&(t=this._normalizeData(t)),n=i.fastLerp(t,e.parsedVisual,n),r?n:i.stringify(n,"rgba")},this)},_doMap:{linear:function(e){return i.stringify(i.fastLerp(e,this.option.parsedVisual),"rgba")},category:m,piecewise:function(e,t){var a=b.call(this,t);return null==a&&(a=i.stringify(i.fastLerp(e,this.option.parsedVisual),"rgba")),a},fixed:x}},colorHue:f(function(e,t){return i.modifyHSL(e,t)}),colorSaturation:f(function(e,t){return i.modifyHSL(e,null,t)}),colorLightness:f(function(e,t){return i.modifyHSL(e,null,null,t)}),colorAlpha:f(function(e,t){return i.modifyAlpha(e,t)}),opacity:{applyVisual:y("opacity"),_doMap:_([0,1])},liftZ:{applyVisual:y("liftZ"),_doMap:{linear:x,category:x,piecewise:x,fixed:x}},symbol:{applyVisual:function(e,t,a){var i=this.mapValueToVisual(e);if(n.isString(i))a("symbol",i);else if(l(i))for(var r in i)i.hasOwnProperty(r)&&a(r,i[r])},_doMap:{linear:v,category:m,piecewise:function(e,t){var a=b.call(this,t);return null==a&&(a=v.call(this,e)),a},fixed:x}},symbolSize:{applyVisual:y("symbolSize"),_doMap:_([0,1])}};function h(e){var t=e.pieceList;e.hasSpecialVisual=!1,n.each(t,function(t,a){t.originIndex=a,null!=t.visual&&(e.hasSpecialVisual=!0)})}function g(e){var t=e.categories,a=e.visual,i=e.categoryMap={};if(s(t,function(e,t){i[e]=t}),!n.isArray(a)){var r=[];n.isObject(a)?s(a,function(e,t){var a=i[t];r[null!=a?a:u]=e}):r[u]=a,a=w(e,r)}for(var o=t.length-1;o>=0;o--)null==a[o]&&(delete i[t[o]],t.pop())}function p(e,t){var a=e.visual,i=[];n.isObject(a)?s(a,function(e){i.push(e)}):null!=a&&i.push(a);var r={color:1,symbol:1};t||1!==i.length||r.hasOwnProperty(e.type)||(i[1]=i[0]),w(e,i)}function f(e){return{applyVisual:function(t,a,n){t=this.mapValueToVisual(t),n("color",e(a("color"),t))},_doMap:_([0,1])}}function v(e){var t=this.option.visual;return t[Math.round(o(e,[0,1],[0,t.length-1],!0))]||{}}function y(e){return function(t,a,n){n(e,this.mapValueToVisual(t))}}function m(e){var t=this.option.visual;return t[this.option.loop&&e!==u?e%t.length:e]}function x(){return this.option.visual[0]}function _(e){return{linear:function(t){return o(t,e,this.option.visual,!0)},category:m,piecewise:function(t,a){var n=b.call(this,a);return null==n&&(n=o(t,e,this.option.visual,!0)),n},fixed:x}}function b(e){var t=this.option,a=t.pieceList;if(t.hasSpecialVisual){var n=d.findPieceIndex(e,a),i=a[n];if(i&&i.visual)return i.visual[this.type]}}function w(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n.map(t,function(e){return i.parse(e)})),t}var I={linear:function(e){return o(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,a=d.findPieceIndex(e,t,!0);if(null!=a)return o(a,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?u:t},fixed:n.noop};function L(e,t,a){return e?t<=a:t<a}d.listVisualTypes=function(){var e=[];return n.each(c,function(t,a){e.push(a)}),e},d.addVisualHandler=function(e,t){c[e]=t},d.isValidType=function(e){return c.hasOwnProperty(e)},d.eachVisual=function(e,t,a){n.isObject(e)?n.each(e,t,a):t.call(a,e)},d.mapVisual=function(e,t,a){var i,r=n.isArray(e)?[]:n.isObject(e)?{}:(i=!0,null);return d.eachVisual(e,function(e,n){var o=t.call(a,e,n);i?r=o:r[n]=o}),r},d.retrieveVisuals=function(e){var t,a={};return e&&s(c,function(n,i){e.hasOwnProperty(i)&&(a[i]=e[i],t=!0)}),t?a:null},d.prepareVisualTypes=function(e){if(l(e)){var t=[];s(e,function(e,a){t.push(a)}),e=t}else{if(!n.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},d.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},d.findPieceIndex=function(e,t,a){for(var n,i=1/0,r=0,o=t.length;r<o;r++){var s=t[r].value;if(null!=s){if(s===e||"string"===typeof s&&s===e+"")return r;a&&c(s,r)}}for(r=0,o=t.length;r<o;r++){var l=t[r],u=l.interval,d=l.close;if(u){if(u[0]===-1/0){if(L(d[1],e,u[1]))return r}else if(u[1]===1/0){if(L(d[0],u[0],e))return r}else if(L(d[0],u[0],e)&&L(d[1],e,u[1]))return r;a&&c(u[0],r),a&&c(u[1],r)}}if(a)return e===1/0?t.length-1:e===-1/0?0:n;function c(t,a){var r=Math.abs(t-e);r<i&&(i=r,n=a)}};var S=d;e.exports=S},"67cc":function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("3eba")),r=a("6d8b"),o=a("2306"),s=a("e7aa"),l=s.setLabel,u=a("4319"),d=a("b5c7"),c=a("cbe5"),h=a("88b3"),g=h.throttle,p=a("b0af"),f=p.createClipPath,v=["itemStyle","barBorderWidth"],y=[0,0];function m(e,t){var a=e.getArea&&e.getArea();if("cartesian2d"===e.type){var n=e.getBaseAxis();if("category"!==n.type||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(a.x-=i,a.width+=2*i):(a.y-=i,a.height+=2*i)}}return a}r.extend(u.prototype,d);var x=i.extendChartView({type:"bar",render:function(e,t,a){this._updateDrawMode(e);var n=e.get("coordinateSystem");return"cartesian2d"!==n&&"polar"!==n||(this._isLargeDraw?this._renderLarge(e,t,a):this._renderNormal(e,t,a)),this.group},incrementalPrepareRender:function(e,t,a){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,a,n){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,a){var n,i=this.group,r=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?n=u.isHorizontal():"polar"===l.type&&(n="angle"===u.dim);var d=e.isAnimationEnabled()?e:null,c=e.get("clip",!0),h=m(l,r);i.removeClipPath(),r.diff(s).add(function(t){if(r.hasValue(t)){var a=r.getItemModel(t),o=M[l.type](r,t,a);if(c){var s=w[l.type](h,o);if(s)return void i.remove(u)}var u=I[l.type](r,t,a,o,n,d);r.setItemGraphicEl(t,u),i.add(u),A(u,r,t,a,o,e,n,"polar"===l.type)}}).update(function(t,a){var u=s.getItemGraphicEl(a);if(r.hasValue(t)){var g=r.getItemModel(t),p=M[l.type](r,t,g);if(c){var f=w[l.type](h,p);if(f)return void i.remove(u)}u?o.updateProps(u,{shape:p},d,t):u=I[l.type](r,t,g,p,n,d,!0),r.setItemGraphicEl(t,u),i.add(u),A(u,r,t,g,p,e,n,"polar"===l.type)}else i.remove(u)}).remove(function(e){var t=s.getItemGraphicEl(e);"cartesian2d"===l.type?t&&L(e,d,t):t&&S(e,d,t)}).execute(),this._data=r},_renderLarge:function(e,t,a){this._clear(),N(e,this.group);var n=e.get("clip",!0)?f(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){N(t,this.group,!0)},dispose:r.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,a=this._data;e&&e.get("animation")&&a&&!this._isLargeDraw?a.eachItemGraphicEl(function(t){"sector"===t.type?S(t.dataIndex,e,t):L(t.dataIndex,e,t)}):t.removeAll(),this._data=null}}),_=Math.max,b=Math.min,w={cartesian2d:function(e,t){var a=t.width<0?-1:1,n=t.height<0?-1:1;a<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=_(t.x,e.x),r=b(t.x+t.width,e.x+e.width),o=_(t.y,e.y),s=b(t.y+t.height,e.y+e.height);t.x=i,t.y=o,t.width=r-i,t.height=s-o;var l=t.width<0||t.height<0;return a<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),l},polar:function(e){return!1}},I={cartesian2d:function(e,t,a,n,i,s,l){var u=new o.Rect({shape:r.extend({},n)});if(s){var d=u.shape,c=i?"height":"width",h={};d[c]=0,h[c]=n[c],o[l?"updateProps":"initProps"](u,{shape:h},s,t)}return u},polar:function(e,t,a,n,i,s,l){var u=n.startAngle<n.endAngle,d=new o.Sector({shape:r.defaults({clockwise:u},n)});if(s){var c=d.shape,h=i?"r":"endAngle",g={};c[h]=i?0:n.startAngle,g[h]=n[h],o[l?"updateProps":"initProps"](d,{shape:g},s,t)}return d}};function L(e,t,a){a.style.text=null,o.updateProps(a,{shape:{width:0}},t,e,function(){a.parent&&a.parent.remove(a)})}function S(e,t,a){a.style.text=null,o.updateProps(a,{shape:{r:a.shape.r0}},t,e,function(){a.parent&&a.parent.remove(a)})}var M={cartesian2d:function(e,t,a){var n=e.getItemLayout(t),i=D(a,n),r=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+r*i/2,y:n.y+o*i/2,width:n.width-r*i,height:n.height-o*i}},polar:function(e,t,a){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function A(e,t,a,n,i,s,u,d){var c=t.getItemVisual(a,"color"),h=t.getItemVisual(a,"opacity"),g=n.getModel("itemStyle"),p=n.getModel("emphasis.itemStyle").getBarItemStyle();d||e.setShape("r",g.get("barBorderRadius")||0),e.useStyle(r.defaults({fill:c,opacity:h},g.getBarItemStyle()));var f=n.getShallow("cursor");f&&e.attr("cursor",f);var v=u?i.height>0?"bottom":"top":i.width>0?"left":"right";d||l(e.style,p,n,c,s,a,v),o.setHoverStyle(e,p)}function D(e,t){var a=e.get(v)||0;return Math.min(a,Math.abs(t.width),Math.abs(t.height))}var E=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var a=t.points,n=this.__startPoint,i=this.__baseDimIdx,r=0;r<a.length;r+=2)n[i]=a[r+i],e.moveTo(n[0],n[1]),e.lineTo(a[r],a[r+1])}});function N(e,t,a){var n=e.getData(),i=[],r=n.getLayout("valueAxisHorizontal")?1:0;i[1-r]=n.getLayout("valueAxisStart");var o=new E({shape:{points:n.getLayout("largePoints")},incremental:!!a,__startPoint:i,__baseDimIdx:r,__largeDataIndices:n.getLayout("largeDataIndices"),__barWidth:n.getLayout("barWidth")});t.add(o),k(o,e,n),o.seriesIndex=e.seriesIndex,e.get("silent")||(o.on("mousedown",T),o.on("mousemove",T))}var T=g(function(e){var t=this,a=V(t,e.offsetX,e.offsetY);t.dataIndex=a>=0?a:null},30,!1);function V(e,t,a){var n=e.__baseDimIdx,i=1-n,r=e.shape.points,o=e.__largeDataIndices,s=Math.abs(e.__barWidth/2),l=e.__startPoint[i];y[0]=t,y[1]=a;for(var u=y[n],d=y[1-n],c=u-s,h=u+s,g=0,p=r.length/2;g<p;g++){var f=2*g,v=r[f+n],m=r[f+i];if(v>=c&&v<=h&&(l<=m?d>=l&&d<=m:d>=m&&d<=l))return o[g]}return-1}function k(e,t,a){var n=a.getVisual("borderColor")||a.getVisual("color"),i=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(i),e.style.fill=null,e.style.stroke=n,e.style.lineWidth=a.getLayout("barWidth")}e.exports=x},7023:function(e,t,a){var n=a("6d8b"),i={updateSelectedMap:function(e){this._targetList=n.isArray(e)?e.slice():[],this._selectTargetMap=n.reduce(e||[],function(e,t){return e.set(t.name,t),e},n.createHashMap())},select:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e),n=this.get("selectedMode");"single"===n&&this._selectTargetMap.each(function(e){e.selected=!1}),a&&(a.selected=!0)},unSelect:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);a&&(a.selected=!1)},toggleSelected:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=a)return this[a.selected?"unSelect":"select"](e,t),a.selected},isSelected:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return a&&a.selected}};e.exports=i},7368:function(e,t,a){var n=a("4e08"),i=(n.__DEV__,a("6d8b")),r=a("625e"),o=r.enableClassCheck;function s(e){return"_EC_"+e}var l=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},u=l.prototype;function d(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function c(e,t,a){this.node1=e,this.node2=t,this.dataIndex=null==a?-1:a}u.type="graph",u.isDirected=function(){return this._directed},u.addNode=function(e,t){e=null==e?""+t:""+e;var a=this._nodesMap;if(!a[s(e)]){var n=new d(e,t);return n.hostGraph=this,this.nodes.push(n),a[s(e)]=n,n}},u.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},u.getNodeById=function(e){return this._nodesMap[s(e)]},u.addEdge=function(e,t,a){var n=this._nodesMap,i=this._edgesMap;if("number"===typeof e&&(e=this.nodes[e]),"number"===typeof t&&(t=this.nodes[t]),d.isInstance(e)||(e=n[s(e)]),d.isInstance(t)||(t=n[s(t)]),e&&t){var r=e.id+"-"+t.id;if(!i[r]){var o=new c(e,t,a);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),i[r]=o,o}}},u.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},u.getEdge=function(e,t){d.isInstance(e)&&(e=e.id),d.isInstance(t)&&(t=t.id);var a=this._edgesMap;return this._directed?a[e+"-"+t]:a[e+"-"+t]||a[t+"-"+e]},u.eachNode=function(e,t){for(var a=this.nodes,n=a.length,i=0;i<n;i++)a[i].dataIndex>=0&&e.call(t,a[i],i)},u.eachEdge=function(e,t){for(var a=this.edges,n=a.length,i=0;i<n;i++)a[i].dataIndex>=0&&a[i].node1.dataIndex>=0&&a[i].node2.dataIndex>=0&&e.call(t,a[i],i)},u.breadthFirstTraverse=function(e,t,a,n){if(d.isInstance(t)||(t=this._nodesMap[s(t)]),t){for(var i="out"===a?"outEdges":"in"===a?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(n,t,null)){var o=[t];while(o.length){var l=o.shift(),u=l[i];for(r=0;r<u.length;r++){var c=u[r],h=c.node1===l?c.node2:c.node1;if(!h.__visited){if(e.call(n,h,l))return;o.push(h),h.__visited=!0}}}}}},u.update=function(){for(var e=this.data,t=this.edgeData,a=this.nodes,n=this.edges,i=0,r=a.length;i<r;i++)a[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)a[e.getRawIndex(i)].dataIndex=i;t.filterSelf(function(e){var a=n[t.getRawIndex(e)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0});for(i=0,r=n.length;i<r;i++)n[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)n[t.getRawIndex(i)].dataIndex=i},u.clone=function(){for(var e=new l(this._directed),t=this.nodes,a=this.edges,n=0;n<t.length;n++)e.addNode(t[n].id,t[n].dataIndex);for(n=0;n<a.length;n++){var i=a[n];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},d.prototype={constructor:d,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,a=t.data.getItemModel(this.dataIndex);return a.getModel(e)}}},c.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,a=t.edgeData.getItemModel(this.dataIndex);return a.getModel(e)}};var h=function(e,t){return{getValue:function(a){var n=this[e][t];return n.get(n.getDimension(a||"value"),this.dataIndex)},setVisual:function(a,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,a,n)},getVisual:function(a,n){return this[e][t].getItemVisual(this.dataIndex,a,n)},setLayout:function(a,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,a,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};i.mixin(d,h("hostGraph","data")),i.mixin(c,h("hostGraph","edgeData")),l.Node=d,l.Edge=c,o(d),o(c);var g=l;e.exports=g},7782:function(e,t,a){var n=a("3eba"),i=a("6d8b");function r(e,t){i.each(t,function(t){t.update="updateView",n.registerAction(t,function(a,n){var i={};return n.eachComponent({mainType:"series",subType:e,query:a},function(e){e[t.method]&&e[t.method](a.name,a.dataIndex);var n=e.getData();n.each(function(t){var a=n.getName(t);i[a]=e.isSelected(a)||!1})}),{name:a.name,selected:i,seriesId:a.seriesId}})})}e.exports=r},"81ac":function(e,t,a){var n=a("f934"),i=a("6d8b"),r=a("e0d3"),o=r.groupData;function s(e,t,a){e.eachSeriesByType("sankey",function(e){var a=e.get("nodeWidth"),n=e.get("nodeGap"),r=l(e,t);e.layoutInfo=r;var o=r.width,s=r.height,c=e.getGraph(),h=c.nodes,g=c.edges;d(h);var p=i.filter(h,function(e){return 0===e.getLayout().value}),f=0!==p.length?0:e.get("layoutIterations"),v=e.get("orient"),y=e.get("nodeAlign");u(h,g,a,n,o,s,f,v,y)})}function l(e,t){return n.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function u(e,t,a,n,i,r,o,s,l){c(e,t,a,i,r,s,l),v(e,t,r,i,n,o,s),A(e,s)}function d(e){i.each(e,function(e){var t=S(e.outEdges,L),a=S(e.inEdges,L),n=Math.max(t,a);e.setLayout({value:n},!0)})}function c(e,t,a,n,i,r,o){for(var s=[],l=[],u=[],d=[],c=0,h=0,p=0;p<t.length;p++)s[p]=1;for(p=0;p<e.length;p++)l[p]=e[p].inEdges.length,0===l[p]&&u.push(e[p]);var v=-1;while(u.length){for(var y=0;y<u.length;y++){var m=u[y],x=m.hostGraph.data.getRawDataItem(m.dataIndex),_=null!=x.depth&&x.depth>=0;_&&x.depth>v&&(v=x.depth),m.setLayout({depth:_?x.depth:c},!0),"vertical"===r?m.setLayout({dy:a},!0):m.setLayout({dx:a},!0);for(var b=0;b<m.outEdges.length;b++){var w=m.outEdges[b],I=t.indexOf(w);s[I]=0;var L=w.node2,S=e.indexOf(L);0===--l[S]&&d.indexOf(L)<0&&d.push(L)}}++c,u=d,d=[]}for(p=0;p<s.length;p++)if(1===s[p])throw new Error("Sankey is a DAG, the original data has cycle!");var M=v>c-1?v:c-1;o&&"left"!==o&&g(e,o,r,M);h="vertical"===r?(i-a)/M:(n-a)/M;f(e,h,r)}function h(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function g(e,t,a,n){if("right"===t){var r=[],o=e,s=0;while(o.length){for(var l=0;l<o.length;l++){var u=o[l];u.setLayout({skNodeHeight:s},!0);for(var d=0;d<u.inEdges.length;d++){var c=u.inEdges[d];r.indexOf(c.node1)<0&&r.push(c.node1)}}o=r,r=[],++s}i.each(e,function(e){h(e)||e.setLayout({depth:Math.max(0,n-e.getLayout().skNodeHeight)},!0)})}else"justify"===t&&p(e,n)}function p(e,t){i.each(e,function(e){h(e)||e.outEdges.length||e.setLayout({depth:t},!0)})}function f(e,t,a){i.each(e,function(e){var n=e.getLayout().depth*t;"vertical"===a?e.setLayout({y:n},!0):e.setLayout({x:n},!0)})}function v(e,t,a,n,i,r,o){var s=y(e,o);m(s,t,a,n,i,o),x(s,i,a,n,o);for(var l=1;r>0;r--)l*=.99,_(s,l,o),x(s,i,a,n,o),M(s,l,o),x(s,i,a,n,o)}function y(e,t){var a=[],n="vertical"===t?"y":"x",r=o(e,function(e){return e.getLayout()[n]});return r.keys.sort(function(e,t){return e-t}),i.each(r.keys,function(e){a.push(r.buckets.get(e))}),a}function m(e,t,a,n,r,o){var s=1/0;i.each(e,function(e){var t=e.length,l=0;i.each(e,function(e){l+=e.getLayout().value});var u="vertical"===o?(n-(t-1)*r)/l:(a-(t-1)*r)/l;u<s&&(s=u)}),i.each(e,function(e){i.each(e,function(e,t){var a=e.getLayout().value*s;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))})}),i.each(t,function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)})}function x(e,t,a,n,r){var o="vertical"===r?"x":"y";i.each(e,function(e){var i,s,l;e.sort(function(e,t){return e.getLayout()[o]-t.getLayout()[o]});for(var u=0,d=e.length,c="vertical"===r?"dx":"dy",h=0;h<d;h++)s=e[h],l=u-s.getLayout()[o],l>0&&(i=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[o]+s.getLayout()[c]+t;var g="vertical"===r?n:a;if(l=u-t-g,l>0)for(i=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0),u=i,h=d-2;h>=0;--h)s=e[h],l=s.getLayout()[o]+s.getLayout()[c]+t-u,l>0&&(i=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:i},!0):s.setLayout({y:i},!0)),u=s.getLayout()[o]})}function _(e,t,a){i.each(e.slice().reverse(),function(e){i.each(e,function(e){if(e.outEdges.length){var n=S(e.outEdges,b,a)/S(e.outEdges,L,a);if("vertical"===a){var i=e.getLayout().x+(n-I(e,a))*t;e.setLayout({x:i},!0)}else{var r=e.getLayout().y+(n-I(e,a))*t;e.setLayout({y:r},!0)}}})})}function b(e,t){return I(e.node2,t)*e.getValue()}function w(e,t){return I(e.node1,t)*e.getValue()}function I(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function L(e){return e.getValue()}function S(e,t,a){var n=0,i=e.length,r=-1;while(++r<i){var o=+t.call(e,e[r],a);isNaN(o)||(n+=o)}return n}function M(e,t,a){i.each(e,function(e){i.each(e,function(e){if(e.inEdges.length){var n=S(e.inEdges,w,a)/S(e.inEdges,L,a);if("vertical"===a){var i=e.getLayout().x+(n-I(e,a))*t;e.setLayout({x:i},!0)}else{var r=e.getLayout().y+(n-I(e,a))*t;e.setLayout({y:r},!0)}}})})}function A(e,t){var a="vertical"===t?"x":"y";i.each(e,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[a]-t.node2.getLayout()[a]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[a]-t.node1.getLayout()[a]})}),i.each(e,function(e){var t=0,a=0;i.each(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),i.each(e.inEdges,function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy})})}e.exports=s},"94b1":function(e,t,a){var n=a("3eba"),i=a("6d8b"),r=a("9d57"),o=r.layout,s=r.largeLayout;a("5aa9"),a("17b8"),a("67cc"),a("01ed"),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,i.curry(o,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,s),n.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},b5c7:function(e,t,a){var n=a("282b"),i=n([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(e){var t=i(this,e);if(this.getBorderLineDash){var a=this.getBorderLineDash();a&&(t.lineDash=a)}return t}};e.exports=r},bb70:function(e,t,a){var n=a("e86a"),i=Math.PI/180;function r(e,t,a,n,i,r,o){function s(t,a,n,i){for(var r=t;r<a;r++)if(e[r].y+=n,r>t&&r+1<a&&e[r+1].y>e[r].y+e[r].height)return void l(r,n/2);l(a-1,n/2)}function l(t,a){for(var n=t;n>=0;n--)if(e[n].y-=a,n>0&&e[n].y>e[n-1].y+e[n-1].height)break}function u(e,t,a,n,i,r){for(var o=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++){var u=Math.abs(e[s].y-n),d=e[s].len,c=e[s].len2,h=u<i+d?Math.sqrt((i+d+c)*(i+d+c)-u*u):Math.abs(e[s].x-a);t&&h>=o&&(h=o-10),!t&&h<=o&&(h=o+10),e[s].x=a+h*r,o=h}}e.sort(function(e,t){return e.y-t.y});for(var d,c=0,h=e.length,g=[],p=[],f=0;f<h;f++)d=e[f].y-c,d<0&&s(f,h,-d,i),c=e[f].y+e[f].height;o-c<0&&l(h-1,c-o);for(f=0;f<h;f++)e[f].y>=a?p.push(e[f]):g.push(e[f]);u(g,!1,t,a,n,i),u(p,!0,t,a,n,i)}function o(e,t,a,n,i,o){for(var l=[],u=[],d=0;d<e.length;d++)s(e[d])||(e[d].x<t?l.push(e[d]):u.push(e[d]));r(u,t,a,n,1,i,o),r(l,t,a,n,-1,i,o);for(d=0;d<e.length;d++)if(!s(e[d])){var c=e[d].linePoints;if(c){var h=c[1][0]-c[2][0];e[d].x<t?c[2][0]=e[d].x+3:c[2][0]=e[d].x-3,c[1][1]=c[2][1]=e[d].y,c[1][0]=c[2][0]+h}}}function s(e){return"center"===e.position}function l(e,t,a,r,s){var l,u,d=e.getData(),c=[],h=!1,g=(e.get("minShowLabelAngle")||0)*i;d.each(function(a){var i=d.getItemLayout(a),r=d.getItemModel(a),o=r.getModel("label"),s=o.get("position")||r.get("emphasis.label.position"),p=r.getModel("labelLine"),f=p.get("length"),v=p.get("length2");if(!(i.angle<g)){var y,m,x,_,b=(i.startAngle+i.endAngle)/2,w=Math.cos(b),I=Math.sin(b);l=i.cx,u=i.cy;var L="inside"===s||"inner"===s;if("center"===s)y=i.cx,m=i.cy,_="center";else{var S=(L?(i.r+i.r0)/2*w:i.r*w)+l,M=(L?(i.r+i.r0)/2*I:i.r*I)+u;if(y=S+3*w,m=M+3*I,!L){var A=S+w*(f+t-i.r),D=M+I*(f+t-i.r),E=A+(w<0?-1:1)*v,N=D;y=E+(w<0?-5:5),m=N,x=[[S,M],[A,D],[E,N]]}_=L?"center":w>0?"left":"right"}var T,V=o.getFont(),k=o.get("rotate");T="number"===typeof k?k*(Math.PI/180):k?w<0?-b+Math.PI:-b:0;var P=e.getFormattedLabel(a,"normal")||d.getName(a),O=n.getBoundingRect(P,V,_,"top");h=!!T,i.label={x:y,y:m,position:s,height:O.height,len:f,len2:v,linePoints:x,textAlign:_,verticalAlign:"middle",rotation:T,inside:L},L||c.push(i.label)}}),!h&&e.get("avoidLabelOverlap")&&o(c,l,u,t,a,r)}e.exports=l},bdc0:function(e,t,a){var n=a("3eba");a("d2a5"),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},c037:function(e,t,a){var n=a("3eba"),i=a("6d8b");a("f7c6"),a("1ab3");var r=a("7782"),o=a("98e7"),s=a("292e"),l=a("d3f47");r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(o("pie")),n.registerLayout(i.curry(s,"pie")),n.registerProcessor(l("pie"))},c569:function(e,t,a){"use strict";var n=a("1b6e"),i=a.n(n);i.a},c59e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("shop-header"),a("div",{staticClass:"headBlock"},[a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:!1,title:"总浏览次数",total:e.total_user_num}},[a("a-tooltip",{attrs:{slot:"action",title:"该店铺的总浏览次数"},slot:"action"},[a("a-icon",{attrs:{type:"info-circle-o"}})],1)],1)],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:!1,title:"总浏览用户数",total:e.total_user_count}},[a("a-tooltip",{attrs:{slot:"action",title:"该店铺的商品主页和商品详情页浏览用户数"},slot:"action"},[a("a-icon",{attrs:{type:"info-circle-o"}})],1)],1)],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("chart-card",{attrs:{loading:!1,title:"平均浏览时长",total:e.avg_visit_time}},[a("a-tooltip",{attrs:{slot:"action",title:"该店铺的总浏览时长/总浏览人数"},slot:"action"},[a("a-icon",{attrs:{type:"info-circle-o"}})],1)],1)],1)],1)],1),a("div",{staticStyle:{"margin-bottom":"24px"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:18}},[a("a-card",{attrs:{loading:!1,bordered:!1,"body-style":{padding:"0"}}},[a("div",{staticClass:"salesCard"},[a("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[a("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[a("div",{staticClass:"extra-item"},[a("a",{on:{click:function(t){return e.change_type(e.week)}}},[e._v("本周")]),a("a",{on:{click:function(t){return e.change_type(e.month)}}},[e._v("本月")]),a("a",{on:{click:function(t){return e.change_type(e.year)}}},[e._v("本年")])])]),a("a-tab-pane",{key:"1",attrs:{loading:"false",tab:"浏览用户数"}},[a("div",{staticStyle:{width:"80%"}},[a("ve-line",{attrs:{data:e.user_count_line}})],1)]),a("a-tab-pane",{key:"2",attrs:{tab:"浏览次数"}},[a("div",{staticStyle:{width:"80%"}},[a("ve-line",{attrs:{data:e.page_view_line}})],1)])],1)],1)])],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("a-card",[a("a-tabs",{attrs:{"default-active-key":"1",size:"small"}},[a("a-tab-pane",{key:"1",attrs:{tab:"访问模块",loading:"false"}},[a("rank-list",{attrs:{title:"TOP10访问模块",list:e.blockRankList}})],1),a("a-tab-pane",{key:"2",attrs:{tab:"访问用户"}},[a("rank-list",{attrs:{title:"TOP10访问用户",list:e.userRankList}})],1)],1)],1)],1)],1)],1),a("div",{staticStyle:{"margin-bottom":"24px"}},[a("a-card",{attrs:{title:"访问占比"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("ve-ring",{attrs:{data:e.phoneData}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("ve-ring",{attrs:{data:e.visitTimeData}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("ve-ring",{attrs:{data:e.registerData,settings:e.registerSetting}})],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[a("ve-ring",{attrs:{data:e.timeSpentData}})],1)],1)],1)],1),a("div",{staticStyle:{"margin-bottom":"24px"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:12}},[a("a-card",{attrs:{title:"新老用户占比"}},[a("ve-ring",{attrs:{data:e.userData}})],1)],1),a("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:12}},[a("a-card",{attrs:{title:"访问模块占比"}},[a("div",{staticStyle:{width:"80%",margin:"0 auto"}},[a("ve-histogram",{attrs:{data:e.histogramData}})],1)])],1)],1)],1)],1)},i=[],r=(a("ac6a"),a("456d"),a("55dd"),a("2af9")),o=a("f4c0"),s=a("1bdf"),l=a.n(s),u=a("c3da"),d=a.n(u),c=a("d768"),h=a.n(c),g=a("2cd2"),p=a.n(g),f=a("d4f3"),v=[{title:"排名",dataIndex:"rank"},{title:"来源渠道",dataIndex:"source"},{title:"用户数",dataIndex:"userNumber"},{title:"周涨幅",dataIndex:"weeklyGains"}],y={name:"wapFlow",components:{ChartCard:r["d"],shopHeader:o["a"],VeSankey:l.a,RankList:r["n"],VeLine:d.a,VeHistogram:h.a,VeRing:p.a},data:function(){return{data:[],loading:!1,columns:v,userRankList:[],total_user_num:0,total_avg_visit_time:0,total_sale:0,total_user_count:0,day_user_num:0,day_avg_visit_time:0,avg_visit_time:0,day_sale:0,day_user_count:0,blockRankList:[],timeSpentData:{},visitTimeData:{},registerData:{},registerSetting:{limitShowNum:4},phoneData:{},userData:{},histogramData:{},user_count_line:{},page_view_line:{},week:"week",month:"month",year:"year",num:0,queryParam:{},table_duration_type:"month",space:""}},methods:{query:function(){var e=this;Object(f["j"])(this.queryParam).then(function(t){e.total_user_num=t.data.total_user_num,e.avg_visit_time=t.data.avg_visit_time,e.total_avg_visit_time=t.data.total_avg_visit_time,e.total_sale=t.data.total_sale,e.total_user_count=t.data.total_user_count,e.day_user_num=t.data.day_user_num,e.day_avg_visit_time=t.data.day_avg_visit_time,e.day_sale=t.data.day_sale,e.day_user_count=t.data.day_user_count}),Object(f["l"])(this.queryParam).then(function(t){var a=t.data.store_user_duration_top10,n=t.data.store_user_block_top10,i=t.data.user_device_maps,r=t.data.user_level_maps,o=t.data.user_sorce_maps,s=t.data.user_time_interval_maps,l=t.data.duration_count_maps;e.user_device_maps_methods(i),e.user_level_maps_methods(r),e.user_sorce_maps_methods(o),e.user_time_interval_maps_methods(s),e.duration_count_maps_methods(l),e.store_user_block_top10_methods(n),e.store_user_duration_top10_methods(a),e.store_user_block_chart(n)});var t={hbh_store_id:this.num,table_duration_type:this.table_duration_type};Object(f["k"])(t).then(function(t){var a=t.data.table;e.line_methods(a)})},user_device_maps_methods:function(e){var t,a={columns:["手机机型","用户数量"],rows:[]};for(t in e)a.rows.push({"手机机型":t,"用户数量":e[t]});this.phoneData=a},user_level_maps_methods:function(e){var t,a={columns:["用户类型","用户数量"],rows:[]};for(t in e)a.rows.push({"用户类型":t,"用户数量":e[t]});this.userData=a},user_sorce_maps_methods:function(e){var t,a={columns:["注册来源","用户数量"],rows:[]};for(t in e)a.rows.push({"注册来源":t,"用户数量":e[t]});this.registerData=a},user_time_interval_maps_methods:function(e){var t,a={columns:["访问时间段","用户数量"],rows:[]};for(t in e)a.rows.push({"访问时间段":t,"用户数量":e[t]});this.visitTimeData=a},duration_count_maps_methods:function(e){var t,a={columns:["访问时长","用户数量"],rows:[]};for(t in e)a.rows.push({"访问时长":t,"用户数量":e[t]});this.timeSpentData=a},store_user_duration_top10_methods:function(e){for(var t,a=[],n={},i=Object.keys(e).sort(function(t,a){return e[a]-e[t]}),r=0;r<i.length;r++)n[i[r]]=e[i[r]];for(t in n)a.push({name:t,total:e[t]});this.userRankList=a},store_user_block_top10_methods:function(e){for(var t,a=[],n={},i=Object.keys(e).sort(function(t,a){return e[a]-e[t]}),r=0;r<i.length;r++)n[i[r]]=e[i[r]];for(t in n)a.push({name:t,total:e[t]});this.blockRankList=a},store_user_block_chart:function(e){var t,a={columns:["分类","访问用户"],rows:[]};for(t in e)a.rows.push({"分类":t,"访问用户":e[t]});this.histogramData=a},line_methods:function(e){var t,a={columns:["时间","浏览用户数"],rows:[]},n={columns:["时间","浏览次数"],rows:[]};for(t in e)a.rows.push({"时间":e[t]["created_date"],"浏览用户数":e[t]["total_user_count"]}),n.rows.push({"时间":e[t]["created_date"],"浏览次数":e[t]["page_view_num"]});this.user_count_line=a,this.page_view_line=n},change_type:function(e){var t=this,a={hbh_store_id:this.num,table_duration_type:e};Object(f["k"])(a).then(function(e){var a=e.data.table;t.line_methods(a)})}},created:function(){this.num=this.$route.params.hbh_store_id,this.queryParam={hbh_store_id:this.num},this.query()}},m=y,x=(a("c569"),a("2877")),_=Object(x["a"])(m,n,i,!1,null,"ff1cee7a",null);t["default"]=_.exports},d01c:function(e,t,a){var n=a("4f85"),i=a("237f"),r=a("eda2"),o=r.encodeHTML,s=a("4319"),l=a("4e08"),u=(l.__DEV__,n.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var a=e.edges||e.links,n=e.data||e.nodes,r=e.levels,o=this.levelModels={},l=0;l<r.length;l++)null!=r[l].depth&&r[l].depth>=0&&(o[r[l].depth]=new s(r[l],this,t));if(n&&a){var u=i(n,a,this,!0,d);return u.data}function d(e,t){e.wrapMethod("getItemModel",function(e,t){return e.customizeGetParent(function(e){var a=this.parentModel,n=a.getData().getItemLayout(t).depth,i=a.levelModels[n];return i||this.parentModel}),e}),t.wrapMethod("getItemModel",function(e,t){return e.customizeGetParent(function(e){var a=this.parentModel,n=a.getGraph().getEdgeByIndex(t),i=n.node1.getLayout().depth,r=a.levelModels[i];return r||this.parentModel}),e})}},setNodePosition:function(e,t){var a=this.option.data[e];a.localX=t[0],a.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,a){if("edge"===a){var n=this.getDataParams(e,a),i=n.data,r=i.source+" -- "+i.target;return n.value&&(r+=" : "+n.value),o(r)}if("node"===a){var s=this.getGraph().getNodeByIndex(e),l=s.getLayout().value,d=this.getDataParams(e,a).data.name;if(l)r=d+" : "+l;return o(r)}return u.superCall(this,"formatTooltip",e,t)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}})),d=u;e.exports=d},d2a5:function(e,t,a){var n=a("3eba");n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},d768:function(e,t,a){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=a("89d6"),r=a("6f0c"),o=a("4cbb");a("94b1");var s=n(a("6521")),l=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=.5;function c(e){var t=e.innerRows,a=e.dimAxisName,n=e.dimension,i=e.axisVisible,r=e.dimAxisType,o=e.dims;return n.map(function(e){return{type:"category",name:a,nameLocation:"middle",nameGap:22,data:"value"===r?h(o):t.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:i}})}function h(e){for(var t=Math.max.apply(null,e),a=Math.min.apply(null,e),n=[],i=a;i<=t;i++)n.push(i);return n}function g(e){for(var t=e.meaAxisName,a=e.meaAxisType,n=e.axisVisible,i=e.digit,o=e.scale,s=e.min,l=e.max,d={type:"value",axisTick:{show:!1},show:n},c=[],h=function(e){a[e]?c[e]=u({},d,{axisLabel:{formatter:function(t){return r.getFormated(t,a[e],i)}}}):c[e]=u({},d),c[e].name=t[e]||"",c[e].scale=o[e]||!1,c[e].min=s[e]||null,c[e].max=l[e]||null},g=0;g<2;g++)h(g);return c}function p(e){var t=e.axisSite,a=e.isHistogram,n=e.meaAxisType,o=e.digit,s=e.labelMap,l=a?t.right||[]:t.top||[];return s&&(l=l.map(function(e){return void 0===s[e]?e:s[e]})),{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach(function(e){var a=e.seriesName,s=~l.indexOf(a)?n[1]:n[0];t.push(i.itemPoint(e.color)),t.push(a+": "),t.push(r.getFormated(e.value,s,o)),t.push("<br>")}),t.join("")}}}function f(e,t){for(var a=Math.max.apply(null,t),n=Math.min.apply(null,t),i=[],r=n;r<=a;r++){var o=t.indexOf(r);~o?i.push(e[o]):i.push(null)}return i}function v(e){var t=e.innerRows,a=e.metrics,n=e.stack,i=e.axisSite,s=e.isHistogram,u=e.labelMap,c=e.itemStyle,h=e.label,g=e.showLine,p=void 0===g?[]:g,v=e.dimAxisType,y=e.barGap,m=e.opacity,x=e.dims,_=[],b={},w=s?i.right||[]:i.top||[],I=s?"yAxisIndex":"xAxisIndex",L=n&&r.getStackMap(n);return a.forEach(function(e){b[e]=[]}),t.forEach(function(e){a.forEach(function(t){b[t].push(e[t])})}),_=Object.keys(b).map(function(e,t){var a="value"===v?f(b[e],x):b[e],i=l({name:null!=u[e]?u[e]:e,type:~p.indexOf(e)?"line":"bar",data:a},I,~w.indexOf(e)?"1":"0");n&&L[e]&&(i.stack=L[e]),h&&(i.label=h),c&&(i.itemStyle=c);var r=m||o.get(i,"itemStyle.normal.opacity");return"value"===v&&(i.barGap=y,i.barCategoryGap="1%",null==r&&(r=d)),null!=r&&o.set(i,"itemStyle.normal.opacity",r),i}),!!_.length&&_}function y(e){var t=e.metrics,a=e.labelMap,n=e.legendName;if(!n&&!a)return{data:t};var i=a?t.map(function(e){return null==a[e]?e:a[e]}):t;return{data:i,formatter:function(e){return null!=n[e]?n[e]:e}}}function m(e,t){return e.map(function(e){return e[t[0]]})}var x=function(e,t,a,n){var i=o.cloneDeep(t),r=a.axisSite,s=void 0===r?{}:r,l=a.dimension,u=void 0===l?[e[0]]:l,d=a.stack,h=void 0===d?{}:d,f=a.axisVisible,x=void 0===f||f,_=a.digit,b=void 0===_?2:_,w=a.dataOrder,I=void 0!==w&&w,L=a.scale,S=void 0===L?[!1,!1]:L,M=a.min,A=void 0===M?[null,null]:M,D=a.max,E=void 0===D?[null,null]:D,N=a.labelMap,T=void 0===N?{}:N,V=a.legendName,k=void 0===V?{}:V,P=a.label,O=a.itemStyle,R=a.showLine,j=a.barGap,G=void 0===j?"-100%":j,C=a.opacity;if(I){var B=I.label,H=I.order;B&&H?i.sort(function(e,t){return"desc"===H?e[B]-t[B]:t[B]-e[B]}):console.warn("Need to provide name and order parameters")}var z=n.tooltipVisible,F=n.legendVisible,W=e.slice();s.left&&s.right?W=s.left.concat(s.right):s.left&&!s.right?W=s.left:a.metrics?W=a.metrics:W.splice(e.indexOf(u[0]),1);var Y=a.yAxisType||["normal","normal"],U=a.xAxisType||"category",q=a.yAxisName||[],X=a.xAxisName||"",Z=!0,J=m(i,u),$=F&&y({metrics:W,labelMap:T,legendName:k}),K=c({innerRows:i,dimAxisName:X,dimension:u,axisVisible:x,dimAxisType:U,dims:J}),Q=g({meaAxisName:q,meaAxisType:Y,axisVisible:x,digit:b,scale:S,min:A,max:E}),ee=v({innerRows:i,metrics:W,stack:h,axisSite:s,isHistogram:Z,labelMap:T,itemStyle:O,label:P,showLine:R,dimAxisType:U,dimension:u,barGap:G,opacity:C,dims:J}),te={axisSite:s,isHistogram:Z,meaAxisType:Y,digit:b,labelMap:T},ae=z&&p(te),ne={legend:$,yAxis:Q,series:ee,xAxis:K,tooltip:ae};return ne},_=u({},s,{name:"VeHistogram",data:function(){return this.chartHandler=x,{}}});e.exports=_},e7aa:function(e,t,a){var n=a("2306"),i=a("c775"),r=i.getDefaultLabel;function o(e,t,a,i,o,l,u){var d=a.getModel("label"),c=a.getModel("emphasis.label");n.setLabelStyle(e,t,d,c,{labelFetcher:o,labelDataIndex:l,defaultText:r(o.getData(),l),isRectText:!0,autoColor:i}),s(e),s(t)}function s(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=o},f7c6:function(e,t,a){var n=a("3eba"),i=a("e46b"),r=a("6d8b"),o=a("e0d3"),s=a("3842"),l=s.getPercentWithPrecision,u=a("7023"),d=a("2b17"),c=d.retrieveRawAttr,h=n.extendSeriesModel({type:"series.pie",init:function(e){h.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){h.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return i(this,["value"])},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),a=[],n=0,i=e.count();n<i;n++)a.push({name:e.getName(n),value:e.get(t,n),selected:c(e,n,"selected")});return a},getDataParams:function(e){var t=this.getData(),a=h.superCall(this,"getDataParams",e),n=[];return t.each(t.mapDimension("value"),function(e){n.push(e)}),a.percent=l(n,e,t.hostModel.get("percentPrecision")),a.$vars.push("percent"),a},_defaultLabelLine:function(e){o.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(h,u);var g=h;e.exports=g}}]);